<div class="container">
  <div class="form-wrapper">
    <h2 class="form-title">{{ isEditMode ? 'âœ¨ MÃ¡gikus LÃ©ny SzerkesztÃ©se âœ¨' : 'ğŸŒŸ Ãšj MÃ¡gikus LÃ©ny LÃ©trehozÃ¡sa ğŸŒŸ' }}</h2>

    <form [formGroup]="creatureForm" (ngSubmit)="onSubmit()">
      <div class="form-section" data-section="ğŸ·ï¸ Alapadatok">
        <div class="form-group">
          <label for="nev">ğŸ¦„ MÃ¡gikus NÃ©v</label>
          <input type="text" 
                 id="nev" 
                 formControlName="nev" 
                 class="form-control"
                 placeholder="Add meg a lÃ©ny varÃ¡zslatosan titokzatos nevÃ©t...">
          <div *ngIf="creatureForm.get('nev')?.touched && creatureForm.get('nev')?.invalid" class="error-message">
            âš ï¸ A mÃ¡gikus nÃ©v megadÃ¡sa kÃ¶telezÅ‘
          </div>
        </div>

        <div class="form-group">
          <label for="tudomanyos_nev">ğŸ”¬ TudomÃ¡nyos MegnevezÃ©s</label>
          <input type="text" 
                 id="tudomanyos_nev" 
                 formControlName="tudomanyos_nev" 
                 class="form-control"
                 placeholder="Pl. Draco magicus spectacularis...">
        </div>

        <div class="form-group">
          <label for="kategoria_id">ğŸ“‚ MÃ¡gikus KategÃ³ria</label>
          <select id="kategoria_id" formControlName="kategoria_id" class="form-control">
            <option value="">ğŸŒŸ VÃ¡lassz mÃ¡gikus kategÃ³riÃ¡t...</option>
            <option *ngFor="let cat of categories" [value]="cat.id">{{ cat.nev }}</option>
          </select>
        </div>
      </div>

      <div class="form-section" data-section="ğŸ“œ LeÃ­rÃ¡s & TÃ¶rtÃ©net">
        <div class="form-group">
          <label for="leiras">ğŸ“– MÃ¡gikus LeÃ­rÃ¡s</label>
          <textarea id="leiras" 
                    formControlName="leiras" 
                    class="form-control" 
                    rows="6"
                    placeholder="MesÃ©lj el mindent errÅ‘l a fantasztikus lÃ©nyrÅ‘l... Mi teszi kÃ¼lÃ¶nlegessÃ©? Milyen varÃ¡zslatok rejlenek benne?"></textarea>
        </div>

        <div class="form-group">
          <label for="elohely">ğŸï¸ MÃ¡gikus Ã‰lÅ‘hely</label>
          <input type="text" 
                 id="elohely" 
                 formControlName="elohely" 
                 class="form-control"
                 placeholder="Pl. Titkos erdÅ‘, kristÃ¡lybarlang, lebegÅ‘ sziget...">
        </div>
      </div>

      <div class="form-section" data-section="âš–ï¸ Fizikai TulajdonsÃ¡gok">
        <div class="form-group">
          <label for="meret">ğŸ“ MÃ©ret KategÃ³ria</label>
          <select id="meret" formControlName="meret" class="form-control">
            <option value="">ğŸŒŸ VÃ¡lassz mÃ©retet...</option>
            <option value="aprÃ³">ğŸ AprÃ³ (tenyÃ©rnyi)</option>
            <option value="kicsi">ğŸ± Kicsi (hÃ¡ziÃ¡llat mÃ©ret)</option>
            <option value="kÃ¶zepes">ğŸº KÃ¶zepes (ember mÃ©ret)</option>
            <option value="nagy">ğŸ» Nagy (autÃ³ mÃ©ret)</option>
            <option value="hatalmas">ğŸ˜ Hatalmas (hÃ¡z mÃ©ret)</option>
            <option value="gigantikus">ğŸ”ï¸ Gigantikus (hegy mÃ©ret)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="veszelyesseg">âš ï¸ VeszÃ©lyessÃ©gi Szint</label>
          <select id="veszelyesseg" formControlName="veszelyesseg" class="form-control">
            <option value="">ğŸŒŸ VÃ¡lassz veszÃ©lyessÃ©gi szintet...</option>
            <option value="Ã¡rtalmatlan">ğŸ˜‡ Ãrtalmatlan (barÃ¡tsÃ¡gos)</option>
            <option value="alacsony">ğŸ˜Š Alacsony (Ã³vatos)</option>
            <option value="kÃ¶zepes">ğŸ˜ KÃ¶zepes (tiszteletet parancsolÃ³)</option>
            <option value="magas">ğŸ˜¨ Magas (veszÃ©lyes)</option>
            <option value="extrÃ©m">ğŸ’€ ExtrÃ©m (halÃ¡los)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="ritkasag">ğŸ’ RitkasÃ¡g Indexe (1-10)</label>
          <input type="number" 
                 id="ritkasag" 
                 formControlName="ritkasag" 
                 class="form-control" 
                 min="1" 
                 max="10"
                 placeholder="1 = gyakori, 10 = legendÃ¡s">
        </div>
      </div>

      <div class="form-section" data-section="ğŸ“Š StÃ¡tusz & Adatok">
        <div class="form-group">
          <label for="allapot">ğŸ“ˆ Jelenlegi Ãllapot</label>
          <select id="allapot" formControlName="allapot" class="form-control">
            <option value="">ğŸŒŸ VÃ¡lassz Ã¡llapotot...</option>
            <option value="aktÃ­v">âœ… AktÃ­v (Ã©szlelÃ©sek vannak)</option>
            <option value="inaktÃ­v">â¸ï¸ InaktÃ­v (jelenleg nem Ã©szlelhetÅ‘)</option>
            <option value="kivizsgÃ¡lÃ¡s_alatt">ğŸ” KivizsgÃ¡lÃ¡s alatt</option>
            <option value="eltÅ±nt">ğŸ‘» EltÅ±nt (fellelhetetlen)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="felfedezes_datuma">ğŸ“… FelfedezÃ©s Napja</label>
          <input type="date" 
                 id="felfedezes_datuma" 
                 formControlName="felfedezes_datuma" 
                 class="form-control">
        </div>

        <div class="form-group">
          <label for="felfedezo">ğŸ§™â€â™‚ï¸ FelfedezÅ‘ MÃ¡gus</label>
          <input type="text" 
                 id="felfedezo" 
                 formControlName="felfedezo" 
                 class="form-control"
                 placeholder="Ki fedezte fel ezt a csodÃ¡latos lÃ©nyt?">
        </div>
      </div>

      <div class="form-section" data-section="ğŸ–¼ï¸ MÃ¡gikus KÃ©p">
        <div class="form-group">
          <label for="kep">ğŸ“¸ VarÃ¡zslatos FotÃ³ FeltÃ¶ltÃ©se</label>
          <input type="file" 
                 id="kep" 
                 (change)="onFileSelected($event)" 
                 class="form-control" 
                 accept="image/*">
          <small style="color: rgba(255,255,255,0.7); margin-top: 10px; display: block;">
            ğŸ¨ Csak kÃ©pfÃ¡jlokat lehet feltÃ¶lteni (JPG, PNG, GIF) - Maximum 10MB
          </small>
          
          <!-- KÃ©p elÅ‘nÃ©zet -->
          <div *ngIf="previewUrl" style="margin-top: 25px; text-align: center;">
            <div style="display: inline-block; position: relative; border-radius: 15px; overflow: hidden; border: 3px solid rgba(78,205,196,0.6); box-shadow: 0 0 30px rgba(78,205,196,0.4);">
              <img [src]="previewUrl" 
                   alt="MÃ¡gikus elÅ‘nÃ©zet" 
                   style="max-width: 300px; max-height: 300px; object-fit: cover; display: block;">
            </div>
            <button type="button" 
                    class="btn btn-secondary" 
                    (click)="removeImage()" 
                    style="margin-top: 15px; background: linear-gradient(45deg, #ff6b6b, #ff7675);">
              ğŸ—‘ï¸ KÃ©p EltÃ¡volÃ­tÃ¡sa
            </button>
          </div>
        </div>
      </div>

      <div *ngIf="error" class="error-message">
        ğŸš¨ {{ error }}
      </div>

      <div class="form-actions">
        <button type="submit" 
                [disabled]="creatureForm.invalid || loading" 
                class="btn btn-primary">
          {{ isEditMode ? 'ğŸ’¾ MÃ¡gikus MentÃ©s' : 'âœ¨ VarÃ¡zslatos LÃ©trehozÃ¡s' }}
          {{ loading ? ' ğŸ”„' : '' }}
        </button>
        <a routerLink="/creatures" class="btn btn-secondary">
          ğŸšª VisszatÃ©rÃ©s a Kataszterhez
        </a>
      </div>
    </form>
  </div>
</div>
